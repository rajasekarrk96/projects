{% extends "base.html" %}

{% block title %}Add Course - Admin Dashboard{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 d-md-block sidebar collapse">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('admin.dashboard') }}">
                            <i class="fas fa-tachometer-alt"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{{ url_for('admin.courses') }}">
                            <i class="fas fa-book"></i>Courses
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('admin.batches') }}">
                            <i class="fas fa-users"></i>Batches
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('admin.faculty') }}">
                            <i class="fas fa-chalkboard-teacher"></i>Faculty
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('admin.reports') }}">
                            <i class="fas fa-chart-bar"></i>Reports
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Add New Course</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <a href="{{ url_for('admin.courses') }}" class="btn btn-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Back to Courses
                    </a>
                </div>
            </div>

            <!-- Add Course Form -->
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-plus me-2"></i>Course Information</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Course Name *</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="duration" class="form-label">Duration *</label>
                                    <select class="form-select" id="duration" name="duration" required>
                                        <option value="">Select Duration</option>
                                        <option value="1 month">1 Month</option>
                                        <option value="2 months">2 Months</option>
                                        <option value="3 months">3 Months</option>
                                        <option value="4 months">4 Months</option>
                                        <option value="5 months">5 Months</option>
                                        <option value="6 months">6 Months</option>
                                        <option value="8 months">8 Months</option>
                                        <option value="1 year">1 Year</option>
                                        <option value="1.5 years">1.5 Years</option>
                                        <option value="2 years">2 Years</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="fee" class="form-label">Course Fee (₹) *</label>
                            <input type="number" class="form-control" id="fee" name="fee" step="0.01" min="0" required>
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Course Description *</label>
                            <textarea class="form-control" id="description" name="description" rows="4" required placeholder="Describe the course objectives, target audience, and what students will learn..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="syllabus" class="form-label">Course Syllabus *</label>
                            <textarea class="form-control" id="syllabus" name="syllabus" rows="8" required placeholder="Enter the detailed syllabus with topics, modules, and learning outcomes..."></textarea>
                            <div class="form-text">
                                <strong>Format:</strong> Use bullet points or numbered lists for better readability.<br>
                                <strong>Example:</strong><br>
                                • HTML5 Fundamentals<br>
                                • CSS3 Styling and Layouts<br>
                                • JavaScript ES6+ Programming<br>
                                • React.js Framework<br>
                                • Node.js Backend Development
                            </div>
                        </div>

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <a href="{{ url_for('admin.courses') }}" class="btn btn-secondary me-md-2">Cancel</a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-2"></i>Add Course
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Course Guidelines -->
            <div class="card mt-4">
                <div class="card-header">
                    <h5><i class="fas fa-info-circle me-2"></i>Course Creation Guidelines</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Course Name</h6>
                            <ul class="small text-muted">
                                <li>Use clear, descriptive names</li>
                                <li>Include technology or skill focus</li>
                                <li>Keep it concise but informative</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Duration</h6>
                            <ul class="small text-muted">
                                <li>Consider course complexity</li>
                                <li>Account for practical sessions</li>
                                <li>Include project work time</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h6>Fee Structure</h6>
                            <ul class="small text-muted">
                                <li>Research market rates</li>
                                <li>Consider course value</li>
                                <li>Include material costs</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Syllabus</h6>
                            <ul class="small text-muted">
                                <li>Start with basics</li>
                                <li>Progress to advanced topics</li>
                                <li>Include hands-on projects</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Auto-resize textarea
    document.getElementById('description').addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = this.scrollHeight + 'px';
    });

    document.getElementById('syllabus').addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = this.scrollHeight + 'px';
    });

    // Form validation
    document.querySelector('form').addEventListener('submit', function(e) {
        const name = document.getElementById('name').value.trim();
        const fee = document.getElementById('fee').value;
        const description = document.getElementById('description').value.trim();
        const syllabus = document.getElementById('syllabus').value.trim();

        if (!name || !fee || !description || !syllabus) {
            e.preventDefault();
            alert('Please fill in all required fields.');
            return false;
        }

        if (fee <= 0) {
            e.preventDefault();
            alert('Course fee must be greater than zero.');
            return false;
        }
    });
</script>
{% endblock %} 