{% extends 'layout.html' %}

{% block content %}
<script>
    function validateWorkoutSelection() {
        const select = document.getElementById('workouts');
        if (select.selectedOptions.length < 2) {
            alert('Please select at least 2 workouts to create a routine');
            return false;
        }
        return true;
    }
</script>
<div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold mb-6">Add New Routine</h1>
    
    <form method="POST" action="{{ url_for('add_routine') }}" class="max-w-md">
        <div class="mb-4">
            <label for="routine_name" class="block text-gray-700 mb-2">Routine Name</label>
            <input type="text" id="routine_name" name="routine_name" class="w-full px-3 py-2 border rounded" required>
        </div>
        
        <div class="mb-4">
            <label for="routine_description" class="block text-gray-700 mb-2">Description</label>
            <textarea id="routine_description" name="routine_description" rows="4" class="w-full px-3 py-2 border rounded"></textarea>
        </div>
        
        <div class="mb-4">
            <label for="frequency" class="block text-gray-700 mb-2">Frequency</label>
            <select id="frequency" name="frequency" class="w-full px-3 py-2 border rounded">
                <option value="Daily">Daily</option>
                <option value="Weekly">Weekly</option>
                <option value="Bi-weekly">Bi-weekly</option>
                <option value="Monthly">Monthly</option>
                <option value="Custom">Custom</option>
            </select>
        </div>
        
        <div class="mb-4">
            <label for="workouts" class="block text-gray-700 mb-2">Select Workouts</label>
            <select id="workouts" name="workouts" multiple class="w-full px-3 py-2 border rounded" required>
                {% for workout in workouts %}
                <option value="{{ workout.id }}">{{ workout.title }}</option>
                {% endfor %}
            </select>
            <p class="text-sm text-gray-500 mt-1">Select at least 2 workouts (hold Ctrl/Cmd to select multiple)</p>
        </div>
        
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" onclick="return validateWorkoutSelection()">
            Create Routine
        </button>
    </form>
</div>
{% endblock %}