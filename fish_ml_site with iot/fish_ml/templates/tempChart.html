<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>WQMS_Temperature</title>
    <!-- refreshes the page with 10 seconds interval -->
    <meta http-equiv="refresh" content="10">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous"> -->
    <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"> -->

    <link rel="stylesheet" type="text/css" media="screen" href="../static/bootstrap-4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../static/style/mystyle.css">

    <style>
        #transparent {
            background-color: transparent;
            /* background: red !important; */
            opacity: 0.6;
        }
        /* removes underlines on hover */
        a:hover,
        a:active,
        a:visited,
        a:link {
            /* Applies to links under the pointer */
            text-decoration: none;
        }
    </style>

</head>


<body id="mybody">
    <header>
        <div class="container-fluid bg-white p-3 text-muted shadow d-flex justify-content-between">
            <div>
                <h4><a href="/dashboard"><span class="text-success">IoT</span><span class="text-info">WQMS</span>MONITOR</a></h4>
            </div>
            <div>
                <button type="button" class="btn bg-light" id="sideBarToggler">
                    <p class=" border-bottom border-secondary iconBtn"></p>
                    <p class=" border-bottom border-secondary iconBtn"></p>
                    <p class=" border-bottom border-secondary iconBtn"></p>
                </button>

            </div>
        </div>
    </header>

    <div class="bg-info sidebar text-light pt-3" id='transparent' style="background-color: #15324f !important">
        <div class="container" style="background-color: #15324f !important">
            <a href="/dashboard" class="btn btn-block sBarBtn border-bottom  active" style="color:white;">Dashboard</a>
            <a href="/tempChart/1h" class="btn btn-block sBarBtn border-bottom" style="color:white;">Temperature</a>
            <a href="/turbChart/1h" class="btn btn-block sBarBtn border-bottom" style="color:white;">Turbidity</a>
            <a href="/phChart/1h" class="btn btn-block sBarBtn border-bottom " style="color:white;">pH</a>
            <a href="/waterlevelChart/1h" class="btn btn-block sBarBtn border-bottom " style="color:white;">Water
                Level</a>
            <a href="/index" class="btn btn-block sBarBtn" style="color:white;">Logout</a>
        </div>
    </div>

    <!-- breadcrumb -->
    <div class="container mt-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                <li class="breadcrumb-item active">Temperature</li>
                <!-- linking daily, weekly, ... -->
                <li class="breadcrumb-item active"><a href="/tempChart/1h">Hourly</a></li>
                <li class="breadcrumb-item active"><a href="/tempChart/1d">Daily</a></li>
                <li class="breadcrumb-item active"><a href="/tempChart/1w">Weekly</a></li>
                <li class="breadcrumb-item active"><a href="/tempChart/1m">Monthly</a></li>
                <li class="breadcrumb-item active"><a href="/tempChart/1y">Yearly</a></li>
                <li class="breadcrumb-item active"><a href="/tempChart/all">All</a></li>
            </ol>

        </nav>
    </div>

    <!-- temperature chart -->
    <section>
        <div class="container m-auto text-center text-muted">
            <div class="card shadow p-3 my-3 chartsCard" style="height: auto">
                <h4 class="card-title">
                    <span style="font-weight: bold">Temperature</span>(Â°C) <small> - <i>{{name}}</i></small>
                </h4>
                <br>
                <canvas id="temperature" name="temp" class="resize" height="400px"></canvas>
                <h6>{{label}}</h6><br>
                    <hr style="margin-left: 10%; margin-right: 10%; width: 80%; display: block; border-top: 1.5px solid #ccc; margin: 1em 4;">
                    <p>
                        <pre>  Average : {{mean}}    |    Min Temp : {{min_temp}}    |    Max Temp : {{max_temp}}   |   Range : {{range_temp}}</pre>
                    </p>
            </div>

            <!-- download button -->
            <div class="container" style="margin-bottom: 30px">
                <a href="/download/temperature"><button type="button" class="btn btn-outline-primary shadow">Download Data</button></a>
            </div>
        </div>
    </section>


    <!-- footer -->
    <footer style="background-color: #15324f !important; margin-bottom: 0px; bottom: 0;">
        <div class="container-fluid p-3 text-center text-light bg-info" style="background-color: #15324f !important;">
            <div class="container" style="margin-top: 10px">
                    All Right Reserved &nbsp; | &nbsp;
                    Copyright &copy; 2019 &nbsp; | &nbsp; IoT_WQMS_Team <br>
                <a href="#"><i class="fab fa-facebook fa-lg mx-2 my-4 text-warning"></i></a>
                <a href="#"><i class="fab fa-instagram fa-lg mx-2 my-4 text-warning"></i></a>
                <a href="#"><i class="fab fa-twitter fa-lg mx-2 my-4 text-warning"></i></a>
                <a href="#"><i class="fab fa-linkedin fa-lg mx-2 my-4 text-warning"></i></a>
            </div>
        </div>
    </footer>



    <!-- links -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script> -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script> -->

    <!-- the chart.min must come first b4 the dataset -->
    <script src="../static/js/Chart.js"></script>

    <!-- Line chart generation  -->
    <script>
        // converting incoming data string to non-string for chartjs
        var time = []
        time = {{ time | default("[]") | safe }}

        var temp = []
        temp = {{ temp | default("[]") | safe }}

        const temperatureChart = new Chart(temperature, {
            // The type of chart we want to create
            type: 'line',
            // The data for our dataset
            data: {
                labels: time,
                datasets: [{
                    label: "Dataset for temperature",
                    data: temp,
                    fill: true,
                    // backgroundColor: 'rgba(00, 255, 00, 0.1)',
                    backgroundColor: 'rgba(52, 160, 233, 0.7)',
                    borderColor: ['rgba(54, 162, 235, 1)',],
                    borderWidth: 2.2,
                    pointBorderColor: "rgba(54, 162, 235, 1)",
                    pointBackgroundColor: "rgba(54, 162, 235, 1)",
                    pointBorderWidth: 2,
                    pointRadius: 0.8,
                    borderDashOffset: 0.0,
                    borderJoinStyle: 'miter',
                }]
            },
            // Configuration options go here
            options: {
                legend: false,
                elements: {
                    line: {
                        fill: false,
                    },
                    point: {
                        // hoverBackgroundColor: makeHalfAsOpaque,
                        // radius: adjustRadiusBasedOnData,

                        hoverRadius: 8,
                    }

                },


            }
        });

    </script>

    <!-- user defined js must be last -->
    <script src="../static/js/main.js"></script>

</body>

</html>
